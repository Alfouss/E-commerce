(this["webpackJsonpmon-app"]=this["webpackJsonpmon-app"]||[]).push([[0],{67:function(e,t,a){e.exports=a(99)},73:function(e,t,a){},78:function(e,t,a){},99:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),c=a(4),l=a(0),u=a.n(l),i=a(27),s=a.n(i),o=(a(73),a(8)),p=a(9),d=a(10),m=a(11),h=a(13),f=(a(78),a(49),a(102)),v=a(103),y=a(65),b=a(39),E=a(7),g=a(108),w=a(105),k=a(106),O=a(104),x=a(101),j=a(12),C=a(25),S=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={data:[],listArtcile:[],filterSearch:[]},r.handleChange=r.handleChange.bind(Object(E.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.products;case 2:t=e.sent,this.setState({data:t}),this.listArtcile();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listArtcile",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.filterSearch.map((function(e,t){return u.a.createElement(g.a.Item,{onClick:function(){a.props.history.push("/searcharticle/".concat(e)),a.setState({listArtcile:[]})},key:t},e)}));case 2:t=e.sent,this.setState({listArtcile:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,this.state.data.filter((function(e){var r=t.target.value.toLowerCase(),n=e.article.toLowerCase();if(n.includes(r))return a.push(n)}));case 3:this.setState({filterSearch:a}),this.listArtcile();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e;return u.a.createElement(w.a,(e={collapseOnSelect:!0,className:"pl-5",expand:"lg"},Object(b.a)(e,"expand","md"),Object(b.a)(e,"bg","dark"),Object(b.a)(e,"variant","dark"),e),u.a.createElement(w.a.Brand,{className:"ml-1",href:"/"},"Fou Market"),u.a.createElement(w.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),u.a.createElement(w.a.Collapse,{id:"responsive-navbar-nav"},u.a.createElement(k.a,{className:" mt-3 mr-auto w-100"},">",u.a.createElement(O.a.Group,{className:"w-100",controlId:"Search"},u.a.createElement(O.a.Row,null,u.a.createElement(O.a.Control,{onChange:this.handleChange,type:"text",placeholder:"Search..."})),u.a.createElement(O.a.Row,null,u.a.createElement(g.a,{className:"w-100 position-absolute overflow-auto",style:{height:"100px",zIndex:"1"}},this.state.listArtcile)))),u.a.createElement(k.a,null,u.a.createElement(j.b,{to:"/cart"},u.a.createElement(x.a,null,"Cart"))),u.a.createElement(k.a,null,null===localStorage.getItem("user")&&u.a.createElement("div",null,u.a.createElement(j.b,{to:"/signin"},u.a.createElement(x.a,null,"Login"))),null!==localStorage.getItem("user")&&u.a.createElement(j.b,{to:"/"},u.a.createElement(x.a,{onClick:function(){localStorage.clear()}},"Deconnect")))))}}]),a}(u.a.Component);var A=Object(h.b)((function(e){return{products:e.product}}),null)(Object(C.f)(S)),_=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={data:[],list:[],activeCategory:!1},r.activeCategory=r.activeCategory.bind(Object(E.a)(r)),r.sortBy=r.sortBy.bind(Object(E.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.products;case 2:t=e.sent,this.setState({data:t}),this.categoryFilter(),localStorage.setItem("categoryFilter","all");case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"categoryFilter",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r,c,l,i,s=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=0,e.next=4,this.state.data;case 4:for(r=e.sent,c=0;c<r.length;c++){for(l=0;l<r.length;l++)r[c].category!==t[l]&&void 0!==r[c].category&&0===a&&t.push(r[c].category),a++;a=0}i=t.map((function(e,t){return u.a.createElement(g.a.Item,{action:!0,onClick:function(){s.activeCategory(e)},key:t}," ",e)})),this.setState({list:i});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"activeCategory",value:function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("categoryFilter"),localStorage.setItem("categoryFilter",t),this.props.history.push("/filter/".concat(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sortBy",value:function(e){var t=e.target.value;this.props.history.push("/sort/".concat(t))}},{key:"render",value:function(){var e=this;return u.a.createElement("div",null,u.a.createElement(O.a,{className:"mt-3"},u.a.createElement(O.a.Group,{controlId:"exampleForm.ControlSelect2"},u.a.createElement(O.a.Label,null,"Filter"),u.a.createElement(O.a.Control,{onClick:this.sortBy,as:"select"},u.a.createElement("option",null,"default"),u.a.createElement("option",null,"low"),u.a.createElement("option",null,"high")))),u.a.createElement(g.a,null,u.a.createElement(g.a.Item,{action:!0,onClick:function(){e.activeCategory("all")}}," Tout"),this.state.list))}}]),a}(u.a.Component),P=Object(h.b)((function(e){return{products:e.product}}),null)(Object(C.f)(_)),U=a(107),D=function(e){return{type:"SHOW_USER",data:e}},I=function(e){return{type:"SHOW_PRODUCT",data:e}},L=function(e){return{type:"ADD_CART",data:e}},T=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={list:[],params:r.props.params},r.addCart=r.addCart.bind(Object(E.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.props.products;case 3:e.t1=e.sent,e.t2=this.props.params,e.t0.list.call(e.t0,e.t1,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillReceiveProps",value:function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,this.props.products;case 3:e.t1=e.sent,e.t2=t.params,e.t0.list.call(e.t0,e.t1,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"list",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a.type,e.next="all"===e.t0?3:"filter"===e.t0?5:"searcharticle"===e.t0?7:"sort"===e.t0?9:"article"===e.t0?11:"cart"===e.t0?13:15;break;case 3:return r=this.displayAll(t,a),e.abrupt("break",16);case 5:return r=this.displayByCategory(t,a),e.abrupt("break",16);case 7:return r=this.displayByArticlesSearch(t,a),e.abrupt("break",16);case 9:return r=this.displayBySort(t,a),e.abrupt("break",16);case 11:return r=this.displayOneArticle(t,a),e.abrupt("break",16);case 13:return r=this.displayCart(t),e.abrupt("break",16);case 15:return e.abrupt("return",null);case 16:return e.t1=this,e.next=19,r;case 19:e.t2=e.sent,e.t3={list:e.t2},e.t1.setState.call(e.t1,e.t3);case 22:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"CardProduct",value:function(e,t){var a=this;return u.a.createElement(U.a,{className:"border border-secondary mt-3 mr-3",key:t,style:{width:"13em"}},u.a.createElement(U.a.Img,{variant:"pic",src:window.location.origin+"/img/"+e.photo,style:{width:"auto",height:"200px"}}),u.a.createElement(U.a.Body,null,u.a.createElement(j.b,{to:"/article/"+e._id,className:"p-0 text-dark"},e.article),u.a.createElement(U.a.Text,null,e.price,"$"),u.a.createElement(U.a.Text,null,"description: ",e.describe),u.a.createElement(x.a,{onClick:function(){a.addCart(e)},variant:"primary"},"Add cart")))}},{key:"describeProduct",value:function(e,t){return u.a.createElement(f.a,{className:"border border-secondary mt-3 mr-3",key:t},u.a.createElement(y.a,null),u.a.createElement(v.a,null,u.a.createElement(y.a,{lg:4},u.a.createElement("img",{src:window.location.origin+"/img/"+e.photo,style:{width:"15em"}})),u.a.createElement(y.a,null,u.a.createElement(v.a,null,u.a.createElement(y.a,{lg:12},u.a.createElement("p",null,e.article)),u.a.createElement(y.a,{lg:12},u.a.createElement("p",null,e.describe)),u.a.createElement(y.a,null,u.a.createElement(x.a,{variant:"primary"},"Add cart"))))))}},{key:"displayAll",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e,t){if("all"===a.category)return c.CardProduct(e,t)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"displayByCategory",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e,t){return a.category===e.category||"all"===a.category?c.CardProduct(e,t):void 0}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"displayByArticlesSearch",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e,t){if(a.category===e.article.toLowerCase())return c.CardProduct(e,t)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"displayBySort",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c,l,u=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:return r=e.sent,e.next=5,t.sort((function(e,t){return e.price-t.price}));case 5:return l=e.sent,"low"===a.category?r=l:"high"===a.category&&(r=l.reverse()),e.next=9,r.map((function(e,t){return u.CardProduct(e,t)}));case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"displayOneArticle",value:function(){var e=Object(c.a)(n.a.mark((function e(t,a){var r,c=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e,t){if(a.category===e._id)return c.describeProduct(e,t)}));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"displayCart",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.map((function(e,t){return r.describeProduct(e,t)}));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"addCart",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.cart;case 2:a=e.sent,console.log(a),a.push({_id:t._id,article:t.article,price:t.price,quantity:0}),this.props.actions(this.checkIfExist(a));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkIfExist",value:function(e){for(var t=e,a=0;a<e.length;a++){if(e[a]._id===e[e.length-1]._id&&t[a].quantity>0)return t[a].quantity+=1,t.splice(e.length-1,1),t;if(e[a]._id===e[e.length-1]._id&&0===t[e.length-1].quantity)return t[a].quantity+=1,t}return t}},{key:"render",value:function(){return this.state.list}}]),a}(u.a.Component);var N=Object(h.b)((function(e){return{products:e.product,cart:e.cart}}),(function(e){return{actions:function(t){e(L(t))}}}))(T),q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={displayArticle:[],params:r.props.params},r}return Object(p.a)(a,[{key:"componentWillReceiveProps",value:function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({params:t.params});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(A,null),u.a.createElement(f.a,{fluid:!0},u.a.createElement(v.a,null,u.a.createElement(y.a,{xs:"2",sm:"2",md:"3",lg:"2",className:"border border-secondary mt-3 ml-3"},u.a.createElement(P,null)),u.a.createElement(y.a,null,u.a.createElement("div",{className:"flex"},u.a.createElement(N,{params:this.state.params}))))))}}]),a}(u.a.Component),B=Object(h.b)((function(e){return{products:e.product}}),null)(q),M=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={list:[],cart:r.props.cart},r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.listCart()}},{key:"listCart",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0})),e.next=3,this.state.cart;case 3:t=e.sent,a=t.map((function(e,t){return u.a.createElement(y.a,{key:t,sm:4,md:2},u.a.createElement(U.a,{className:"border border-secondary mt-3 mr-3",style:{width:"13em"}},u.a.createElement(U.a.Img,{variant:"pic",src:"./img/"+e.photo,style:{width:"auto",height:"200px"}}),u.a.createElement(U.a.Body,null,u.a.createElement(j.b,{to:"/article/"+e._id,className:"p-0 text-dark"},e.article),u.a.createElement(U.a.Text,null,e.price,"$"),u.a.createElement(U.a.Text,null,"Quantity: ",e.quantity),u.a.createElement(x.a,{onClick:function(){r.deleteArticleInCart(e)},variant:"primary"},"Delete"))))})),console.log(a),this.setState({list:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log(this.state.list),u.a.createElement(f.a,null,u.a.createElement(v.a,null,this.state.list))}}]),a}(u.a.Component);var R=Object(h.b)((function(e){return{cart:e.cart}}),(function(e){return{deleteArticle:function(t){e(L(t))}}}))(M),F=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"routeToComponent",value:function(){var e=this.props.match.params;return console.log(e),"filter"===e.type||"searcharticle"===e.type||"sort"===e.type||"article"===e.type?u.a.createElement(B,{params:e}):"cart"===e.type?u.a.createElement(R,{params:e}):u.a.createElement(B,{params:{category:"all",type:"all"}})}},{key:"render",value:function(){return u.a.createElement("div",null,this.routeToComponent())}}]),a}(u.a.Component),V=Object(C.f)(F),W=a(20),H=a.n(W),G=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("http://localhost:1234/product/read");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(e){return"file"===e.target.photo.type&&void 0!==e.target.photo.files[0]?e.target.photo.files[0].name:"text"===e.target.photo.type?e.target.photo.name.value:void 0},J=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=$(t),r={article:t.target.article.value,describe:t.target.describe.value,price:t.target.price.value,quantity:t.target.quantity.value,photo:a,category:t.target.category.value},e.next=5,H.a.post("http://localhost:1234/product/create",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=$(t),r={id:t.target.id.value,article:t.target.article.value,describe:t.target.describe.value,price:t.target.price.value,quantity:t.target.quantity.value,photo:a,category:t.target.category.value},e.next=5,H.a.put("http://localhost:1234/product/update",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.delete("http://localhost:1234/product/delete",{data:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={listArtcile:[],data:[],displayThead:!0},r.addArticle=r.addArticle.bind(Object(E.a)(r)),r.updateListArticle=r.updateListArticle.bind(Object(E.a)(r)),r.updateProduct=r.updateProduct.bind(Object(E.a)(r)),r.deleteProduct=r.deleteProduct.bind(Object(E.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.products;case 2:t=e.sent,this.setState({data:t}),this.listArtcile();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listArtcile",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.data.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,e._id),u.a.createElement("td",null,e.article),u.a.createElement("td",null,e.describe),u.a.createElement("td",null,e.price),u.a.createElement("td",null,e.quantity),u.a.createElement("td",null,e.photo),u.a.createElement("td",null,e.category),u.a.createElement("td",null,u.a.createElement("button",{onClick:a.updateListArticle},"Modify")),u.a.createElement("td",null,u.a.createElement("button",{onClick:function(){a.deleteProduct(e._id)}},"Delete")))}));case 2:t=e.sent,this.setState({listArtcile:t,displayThead:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addArticle",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:return e.next=4,G();case 4:return a=e.sent,e.next=7,this.props.dispatch(I(a.data));case 7:this.setState({data:a.data}),this.listArtcile();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateListArticle",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.data.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("td",null,u.a.createElement("form",{onSubmit:a.updateProduct},u.a.createElement("label",null,"id: ",u.a.createElement("input",{name:"id",type:"text",placeholder:e._id,defaultValue:e._id})),u.a.createElement("label",null,"article: ",u.a.createElement("input",{name:"article",type:"text",placeholder:e.article,defaultValue:e.article})),u.a.createElement("label",null,"describe: ",u.a.createElement("input",{name:"describe",type:"number",placeholder:e.describe,defaultValue:e.describe})),u.a.createElement("label",null,"price: ",u.a.createElement("input",{name:"price",type:"number",placeholder:e.price,defaultValue:e.price})),u.a.createElement("label",null,"quantity: ",u.a.createElement("input",{name:"quantity",type:"number",placeholder:e.quantity,defaultValue:e.quantity})),u.a.createElement("label",null,"photo:",null!==e.category?u.a.createElement("input",{name:"photo",type:"file"}):u.a.createElement("input",{name:"photo",type:"text",defaultValue:e.photo})),u.a.createElement("label",null,"category: ",u.a.createElement("input",{name:"category",type:"text",defaultValue:e.category})),u.a.createElement("input",{type:"submit",value:"Update"}),u.a.createElement("input",{type:"submit",value:"cancel"}))))}));case 2:t=e.sent,this.setState({listArtcile:t,displayThead:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateProduct",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(z(t),a=[t.target.id.value],r=0;r<this.state.data.length;r++)c=this.state.data[r],-1!==a.indexOf(c._id)&&(c.article=t.target.article.value,c.describe=t.target.describe.value,c.price=t.target.price.value,c.quantity=t.target.quantity.value,c.photo=t.target.photo.value,c.category=t.target.category.value);this.listArtcile();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,l;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a={id:t},r=[t],c=0;c<this.state.data.length;c++)l=this.state.data[c],-1!==r.indexOf(l._id)&&this.state.data.splice(c,1);return e.next=5,this.props.dispatch(I(this.state.data));case 5:this.setState({data:this.state.data}),this.listArtcile(),K(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"formAddProduct",value:function(){return u.a.createElement("div",null,u.a.createElement(O.a,{onSubmit:this.addArticle},u.a.createElement(O.a.Group,null,u.a.createElement(O.a.Label,null,"Article"),u.a.createElement(O.a.Control,{type:"text",name:"article",placeholder:"Enter article"}),u.a.createElement(O.a.Label,null,"Describe"),u.a.createElement(O.a.Control,{type:"text",name:"describe",placeholder:"Enter describe"}),u.a.createElement(O.a.Label,null,"Price"),u.a.createElement(O.a.Control,{type:"text",name:"price",placeholder:"Enter price"}),u.a.createElement(O.a.Label,null,"Quantity"),u.a.createElement(O.a.Control,{type:"text",name:"quantity",placeholder:"Enter quantity"}),u.a.createElement(O.a.Label,null,"Photo"),u.a.createElement(O.a.Control,{type:"file",name:"photo",placeholder:"Enter Photo"}),u.a.createElement(O.a.Label,null,"Category"),u.a.createElement(O.a.Control,{type:"text",name:"category",placeholder:"Enter category"})),u.a.createElement(x.a,{type:"submit"},"Send")))}},{key:"render",value:function(){return u.a.createElement("div",null,this.formAddProduct(),u.a.createElement("table",null,this.state.displayThead&&u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Id"),u.a.createElement("th",null,"article"),u.a.createElement("th",null,"describe"),u.a.createElement("th",null,"price"),u.a.createElement("th",null,"quantity"),u.a.createElement("th",null,"photo"),u.a.createElement("th",null,"category"))),u.a.createElement("tbody",null,this.state.listArtcile)))}}]),a}(u.a.Component);var X=Object(h.b)((function(e){return{products:e.product}}),null)(Q),Y=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={mail:t.target.mail.value,password:t.target.password.value},e.next=4,H.a.post("http://localhost:1234/loggin/create",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("http://localhost:1234/loggin/read");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={mail:t.target.mail.value,password:t.target.password.value},e.next=3,H.a.post("http://localhost:1234/loggin/verify",a);case 3:if(!(r=e.sent)){e.next=7;break}return localStorage.setItem("user",r.data),e.abrupt("return",r.data);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(c.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={id:t.target.id.value,password:t.target.password.value},e.next=4,H.a.put("http://localhost:1234/loggin/update",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.delete("http://localhost:1234/loggin/delete",{data:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={datas:[],listUser:[]},r.listUser=r.listUser.bind(Object(E.a)(r)),r.updateListUser=r.updateListUser.bind(Object(E.a)(r)),r.sendUpdate=r.sendUpdate.bind(Object(E.a)(r)),r.removeUser=r.removeUser.bind(Object(E.a)(r)),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.users;case 2:t=e.sent,this.setState({datas:t}),this.listUser();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"listUser",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.datas.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("th",null,e._id),u.a.createElement("th",null,e.mail),u.a.createElement("td",null,u.a.createElement("button",{onClick:a.updateListUser},"Modify")),u.a.createElement("td",null,u.a.createElement("button",{onClick:function(){a.removeUser(e._id)}},"Delete")))}));case 2:t=e.sent,this.setState({listUser:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeUser",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r,c,l,u;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a={id:t},r=[t],c=this.state.datas,l=0;l<c.length;l++)u=c[l],-1!==r.indexOf(u._id)&&c.splice(l,1);this.props.actions(c),this.setState({datas:c}),this.listUser(),ae(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateListUser",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a=this;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.state.datas.map((function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("th",null,e._id),u.a.createElement("th",null,e.mail),u.a.createElement("td",null,u.a.createElement("form",{onSubmit:function(e){a.sendUpdate(e),a.listUser()}},u.a.createElement("input",{type:"hidden",defaultValue:e._id,name:"id"}),u.a.createElement("input",{type:"text",name:"password"}),u.a.createElement("input",{type:"submit",value:"Update"}))))}));case 2:t=e.sent,this.setState({listUser:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendUpdate",value:function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:te(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("table",null,u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"Id"),u.a.createElement("th",null,"Name"))),u.a.createElement("tbody",null,this.state.listUser)))}}]),a}(u.a.Component);var ne=Object(h.b)((function(e){return{users:e.user}}),(function(e){return{actions:function(t){e(D(t))}}}))(re),ce=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).state={buttonModify:!1},r}return Object(p.a)(a,[{key:"render",value:function(){var e=this;return u.a.createElement("div",null,!0===this.state.buttonModify?u.a.createElement("div",null,u.a.createElement(w.a,{bg:"dark",variant:"dark"},u.a.createElement(w.a.Toggle,null),u.a.createElement(w.a.Brand,null,"Mode Admin"),u.a.createElement(k.a,{className:"mr-auto"}),u.a.createElement(k.a,null,u.a.createElement(x.a,{onClick:function(){return e.setState({buttonModify:!1})}},"Panel products"),u.a.createElement(x.a,{onClick:function(){localStorage.clear(),window.location.reload()}},"Deconnect"))),u.a.createElement(ne,null)):u.a.createElement("div",null,u.a.createElement(w.a,{bg:"dark",variant:"dark"},u.a.createElement(w.a.Toggle,null),u.a.createElement(w.a.Brand,null,"Mode Admin"),u.a.createElement(k.a,{className:"mr-auto"}),u.a.createElement(k.a,null,u.a.createElement(x.a,{onClick:function(){return e.setState({buttonModify:!0})}},"Panel users"),u.a.createElement(x.a,{onClick:function(){localStorage.clear(),window.location.reload()}},"Deconnect"))),u.a.createElement(X,null)))}}]),a}(u.a.Component),le=a(22),ue=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(o.a)(this,a),(r=t.call(this,e)).sendForm=r.sendForm.bind(Object(E.a)(r)),r.connect=r.connect.bind(Object(E.a)(r)),r.state={page:r.props.path.pathname,mail:"",password:"",datasUsers:[],check:""},r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(c.a)(n.a.mark((function e(){var t,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z();case 2:return t=e.sent,e.next=5,G();case 5:a=e.sent,this.props.dispatch(D(t.data)),this.props.dispatch(I(a.data)),this.setState({datasUsers:t.data});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"sendForm",value:function(){var e=Object(c.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.target.mail.value)?(Y(t),this.setState({page:"login",mail:t.target.mail.value,password:t.target.password.value}),alert("Created"),window.location.reload()):alert("Veuillez entrer une adress valide");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.target.mail.value)){e.next=10;break}return a=t.target.mail.value,e.next=5,ee(t);case 5:r=e.sent,this.setState({page:null,check:r}),"admin@admin.com"!==a&&this.props.history.push("/"),e.next=11;break;case 10:alert("veuillew entrez une adresse valide ");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=this;return u.a.createElement("div",null,"register"===this.state.page&&null===localStorage.getItem("user")&&u.a.createElement(y.a,null,u.a.createElement(O.a,{className:"mb-3",onSubmit:this.sendForm},u.a.createElement(O.a.Group,null,u.a.createElement(O.a.Label,null,"Email"),u.a.createElement(O.a.Control,{type:"text",name:"mail",ref:"mail",placeholder:"Enter email"}),u.a.createElement(O.a.Label,null,"Password"),u.a.createElement(O.a.Control,{type:"password",name:"password",ref:"password",placeholder:"Enter pass"}),u.a.createElement(O.a.Label,null,"Password"),u.a.createElement(O.a.Control,{type:"password",name:"passwordVerif",ref:"passwordVerif",placeholder:"Enter pass"})),u.a.createElement(x.a,{type:"submit"},"Envoyer")),u.a.createElement(x.a,{type:"button",onClick:function(){e.setState({page:"signin"})}},"Login"),u.a.createElement(j.b,{to:"/"},u.a.createElement(x.a,null,"Accueil"))),"signin"===this.state.page&&null===localStorage.getItem("user")&&u.a.createElement(y.a,null,u.a.createElement(O.a,{className:"mb-3",onSubmit:this.connect},u.a.createElement(O.a.Group,{controlId:"form"},u.a.createElement(O.a.Label,null,"Email"),u.a.createElement(O.a.Control,{type:"text",name:"mail",ref:"mail",placeholder:"Enter email"}),u.a.createElement(O.a.Label,null,"Password"),u.a.createElement(O.a.Control,{type:"password",name:"password",ref:"password",placeholder:"Enter pass"})),u.a.createElement(x.a,{type:"submit"},"Envoyer")),u.a.createElement(x.a,{type:"button",onClick:function(){e.setState({page:"register"})}},"Register"),u.a.createElement(j.b,{to:"/"},u.a.createElement(x.a,null,"Accueil"))),"admin@admin.com"===localStorage.getItem("user")&&u.a.createElement(y.a,null,u.a.createElement(ce,null)))}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(f.a,null,u.a.createElement(v.a,{className:"justify-content-md-center"},this.register())))}}]),a}(u.a.Component);var ie=Object(h.b)((function(e){return{user:Object(le.a)(D,e),product:Object(le.a)(I,e)}}))(Object(C.f)(ue));var se=function(){return u.a.createElement(f.a,{fluid:!0},u.a.createElement(C.c,null,u.a.createElement(C.a,{exact:!0,path:"/",component:V}),u.a.createElement(C.a,{exact:!0,path:"/:type/:category",component:V}),u.a.createElement(C.a,{exact:!0,path:"/register"},u.a.createElement(ie,{path:{pathname:"register"}})),"/>",u.a.createElement(C.a,{exact:!0,path:"/signin"},u.a.createElement(ie,{path:{pathname:"signin"}})),"/>",u.a.createElement(C.a,{exact:!0,path:"/:type",component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r,c=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:Z(),a=c.length>1?c[1]:void 0,e.t0=a.type,e.next="SHOW_USER"===e.t0?5:7;break;case 5:return r=a.data,e.abrupt("return",r);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r,c=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:G(),a=c.length>1?c[1]:void 0,e.t0=a.type,e.next="SHOW_PRODUCT"===e.t0?5:7;break;case 5:return r=a.data,e.abrupt("return",r);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(c.a)(n.a.mark((function e(){var t,a,r,c=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c.length>0&&void 0!==c[0]?c[0]:[],a=c.length>1?c[1]:void 0,e.t0=a.type,e.next="SHOW_CART"===e.t0?5:"ADD_CART"===e.t0?6:8;break;case 5:return e.abrupt("return",t);case 6:return r=a.data,e.abrupt("return",r);case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=Object(le.b)({user:oe,product:pe,cart:de}),he=function(){var e=Object(c.a)(n.a.mark((function e(t){var a,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.user;case 3:return e.t0=e.sent,e.next=6,t.product;case 6:return e.t1=e.sent,e.next=9,t.cart;case 9:e.t2=e.sent,a={user:e.t0,product:e.t1,cart:e.t2},r=JSON.stringify(a),localStorage.setItem("state",r),e.next=17;break;case 15:e.prev=15,e.t3=e.catch(0);case 17:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),fe=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),ve=Object(le.c)(me,fe);ve.subscribe(Object(c.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he(ve.getState());case 1:case"end":return e.stop()}}),e)})))),s.a.render(u.a.createElement(h.a,{store:ve},u.a.createElement(j.a,null,u.a.createElement(se,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[67,1,2]]]);
//# sourceMappingURL=main.a3814f61.chunk.js.map