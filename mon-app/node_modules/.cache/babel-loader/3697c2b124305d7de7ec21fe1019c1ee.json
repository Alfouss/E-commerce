{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jumo\\\\Documents\\\\Project\\\\e-commerce\\\\mon-app\\\\src\\\\component\\\\Cart.js\";\nimport React from 'react';\nimport { connect } from \"react-redux\";\nimport { deleteArticleFromCart } from '../actions/actions';\nimport { Container, Card, Button, Row, Col, Form, Navbar } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport CardPayment from \"./Card\";\n\nclass User extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      list: [],\n      cart: this.props.cart,\n      totalPrice: 0\n    };\n  }\n\n  componentDidMount() {\n    this.listCart();\n  }\n\n  async listCart() {\n    console.log((await this.state.cart));\n    let cart = await this.state.cart;\n    let totalPrice = 0;\n    let list = cart.map((value, index) => {\n      totalPrice += value.quantity * value.price;\n      return /*#__PURE__*/React.createElement(Col, {\n        key: index,\n        sm: 5,\n        md: 3,\n        lg: 3,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"border border-secondary mt-3 mr-3\",\n        style: {\n          width: '13em'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Card.Img, {\n        variant: \"pic\",\n        src: window.location.origin + \"/img/\" + value.photo,\n        style: {\n          width: \"auto\",\n          height: \"200px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/article/\" + value._id,\n        className: \"p-0 text-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 29\n        }\n      }, value.article), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 29\n        }\n      }, value.price, \"$\"), /*#__PURE__*/React.createElement(Card.Text, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 29\n        }\n      }, \"Quantity: \", value.quantity), /*#__PURE__*/React.createElement(Button, {\n        onClick: () => {\n          this.deleteArticleInCart(index);\n        },\n        variant: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 29\n        }\n      }, \"Delete\"))));\n    });\n    console.log(totalPrice);\n    this.setState({\n      list: list,\n      totalPrice: totalPrice\n    });\n  }\n\n  async deleteArticleInCart(index) {\n    let newCart = await this.state.cart;\n    newCart.splice(index, 1);\n    this.props.deleteArticle(newCart);\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Container, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      collapseOnSelect: true,\n      className: \"pl-5\",\n      expand: \"lg\",\n      expand: \"md\",\n      bg: \"dark\",\n      variant: \"dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Navbar.Brand, {\n      className: \"ml-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 34\n      }\n    }, \"Fou Cart\"))), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      lg: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, \"Votre Panier\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 70\n      }\n    })), /*#__PURE__*/React.createElement(Col, {\n      md: 10,\n      lg: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, this.state.list)), /*#__PURE__*/React.createElement(Col, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 25\n      }\n    }, \"Total price: \", this.state.totalPrice), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 25\n      }\n    }, \"Check cart\"))));\n  }\n\n}\n\nfunction mapStateToProps(state) {\n  return {\n    cart: state.cart\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    deleteArticle: data => {\n      dispatch(deleteArticleFromCart(data));\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(User);","map":{"version":3,"sources":["C:/Users/Jumo/Documents/Project/e-commerce/mon-app/src/component/Cart.js"],"names":["React","connect","deleteArticleFromCart","Container","Card","Button","Row","Col","Form","Navbar","Link","CardPayment","User","Component","constructor","props","state","list","cart","totalPrice","componentDidMount","listCart","console","log","map","value","index","quantity","price","width","window","location","origin","photo","height","_id","article","deleteArticleInCart","setState","newCart","splice","deleteArticle","render","mapStateToProps","mapDispatchToProps","dispatch","data"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { deleteArticleFromCart } from '../actions/actions';\r\nimport { Container, Card, Button,  Row, Col, Form, Navbar} from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport CardPayment from \"./Card\"\r\n\r\n\r\nclass User extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            list: [],\r\n            cart: this.props.cart,\r\n            totalPrice: 0\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.listCart();\r\n    }\r\n\r\n    async listCart(){\r\n        console.log(await this.state.cart);\r\n        let cart = await this.state.cart;\r\n        let totalPrice = 0;\r\n        let list = cart.map((value, index) => {\r\n            totalPrice += value.quantity * value.price\r\n            return(\r\n                <Col key={index} sm={5} md={3} lg={3}>\r\n                    <Card className=\"border border-secondary mt-3 mr-3\"  style={{ width: '13em' }}>\r\n                        <Card.Img variant=\"pic\" src={window.location.origin + \"/img/\" + value.photo}  style={{ width: \"auto\", height: \"200px\" }}/>\r\n                        <Card.Body>\r\n                            <Link  to={\"/article/\"+value._id} className=\"p-0 text-dark\">{value.article}</Link>\r\n                            <Card.Text>{value.price}$</Card.Text>\r\n                            <Card.Text>Quantity: {value.quantity}</Card.Text>\r\n                            <Button onClick={() => {this.deleteArticleInCart(index)}} variant=\"primary\">Delete</Button>\r\n                            \r\n                        </Card.Body>\r\n                    </Card>\r\n                </Col>\r\n            )\r\n       });\r\n       console.log(totalPrice)\r\n       this.setState({list: list, totalPrice: totalPrice})\r\n\r\n    }\r\n        \r\n    async deleteArticleInCart(index){\r\n        let newCart = await this.state.cart;\r\n        newCart.splice(index, 1)\r\n        this.props.deleteArticle(newCart);\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <Container>\r\n                <Navbar collapseOnSelect className=\"pl-5\" expand=\"lg\" expand=\"md\" bg=\"dark\" variant=\"dark\">\r\n                    <Link to=\"/\"><Navbar.Brand className=\"ml-1\">Fou Cart</Navbar.Brand></Link>\r\n\r\n                </Navbar>\r\n                <Row>\r\n                    <Col md={12} lg={12}>\r\n                        <h6 className=\"text-center\">Votre Panier</h6><br></br>\r\n                    </Col>\r\n\r\n                    <Col md={10} lg={10}>\r\n                        <Row>\r\n                            {this.state.list}\r\n                        </Row>\r\n                    </Col>\r\n                    <Col >\r\n                        <p variant=\"primary\">Total price: {this.state.totalPrice}</p>\r\n                        <Button variant=\"primary\">Check cart</Button>\r\n                    </Col>\r\n                </Row>\r\n                \r\n            </Container>          \r\n        )\r\n        \r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\n    return {\r\n      cart: state.cart\r\n    };\r\n  }\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return { deleteArticle: (data) => {dispatch(deleteArticleFromCart(data))} }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(User);"]},"metadata":{},"sourceType":"module"}